{
  "className": "org.joget.apps.form.model.Form",
  "properties": {
    "id": "imEntitlement",
    "name": "Farmer Entitlement",
    "tableName": "imEntitlement",
    "description": "Tracks input entitlements calculated for eligible farmers",
    "loadBinder": {
      "className": "org.joget.apps.form.lib.WorkflowFormBinder",
      "properties": {}
    },
    "storeBinder": {
      "className": "org.joget.apps.form.lib.WorkflowFormBinder",
      "properties": {}
    },
    "noPermissionMessage": "",
    "postProcessorRunOn": "create",
    "permission": {
      "className": "",
      "properties": {}
    },
    "postProcessor": {
      "className": "",
      "properties": {}
    }
  },
  "elements": [
    {
      "className": "org.joget.apps.form.model.Section",
      "properties": {
        "id": "section1",
        "label": "Section"
      },
      "elements": [
        {
          "className": "org.joget.apps.form.model.Column",
          "properties": {
            "width": "100%"
          },
          "elements": [
            {
              "className": "org.joget.apps.form.lib.IdGeneratorField",
              "properties": {
                "id": "entitlementCode",
                "label": "Entitlement Code",
                "format": "ENT-??????",
                "envVariable": "counter",
                "isDistributedGeneration": "",
                "hidden": "",
                "workflowVariable": ""
              }
            },
            {
              "className": "org.joget.apps.form.lib.SelectBox",
              "properties": {
                "readonly": "",
                "multiple": "",
                "label": "Campaign",
                "readonlyLabel": "",
                "id": "campaignCode",
                "iconIncluded": false,
                "options": [],
                "optionsBinder": {
                  "className": "org.joget.apps.form.lib.FormOptionsBinder",
                  "properties": {
                    "formDefId": "imCampaign",
                    "idColumn": "campaignCode",
                    "labelColumn": "campaignName",
                    "groupingColumn": "",
                    "extraCondition": "c_status IN ('APPROVED', 'ACTIVE')",
                    "addEmptyOption": "true",
                    "emptyLabel": "-- Select Campaign --",
                    "useAjax": "",
                    "cacheInterval": ""
                  }
                },
                "value": "",
                "validator": {
                  "className": "org.joget.apps.form.lib.DefaultValidator",
                  "properties": {
                    "mandatory": "true",
                    "type": "",
                    "message": ""
                  }
                },
                "controlField": "",
                "size": "",
                "workflowVariable": ""
              }
            },
            {
              "className": "org.joget.apps.form.lib.SelectBox",
              "properties": {
                "readonly": "",
                "multiple": "",
                "label": "Farmer",
                "readonlyLabel": "",
                "id": "farmerCode",
                "iconIncluded": false,
                "options": [],
                "optionsBinder": {
                  "className": "org.joget.apps.form.lib.FormOptionsBinder",
                  "properties": {
                    "formDefId": "farmerBasicInfo",
                    "idColumn": "code",
                    "labelColumn": "fullName",
                    "groupingColumn": "",
                    "extraCondition": "",
                    "addEmptyOption": "true",
                    "emptyLabel": "-- Select Farmer --",
                    "useAjax": "true",
                    "cacheInterval": ""
                  }
                },
                "value": "",
                "validator": {
                  "className": "org.joget.apps.form.lib.DefaultValidator",
                  "properties": {
                    "mandatory": "true",
                    "type": "",
                    "message": ""
                  }
                },
                "controlField": "",
                "size": "",
                "workflowVariable": ""
              }
            },
            {
              "className": "org.joget.apps.form.lib.TextField",
              "properties": {
                "id": "farmerNationalId",
                "label": "National ID",
                "readonly": "true"
              }
            },
            {
              "className": "org.joget.apps.form.lib.TextField",
              "properties": {
                "id": "farmerName",
                "label": "Farmer Name",
                "readonly": "true"
              }
            },
            {
              "className": "org.joget.apps.form.lib.TextField",
              "properties": {
                "id": "farmerPhone",
                "label": "Phone",
                "readonly": "true"
              }
            },
            {
              "className": "org.joget.apps.form.lib.TextField",
              "properties": {
                "id": "districtCode",
                "label": "District",
                "readonly": "true"
              }
            },
            {
              "className": "org.joget.apps.form.lib.SelectBox",
              "properties": {
                "readonly": "",
                "multiple": "",
                "label": "Assigned Distribution Point",
                "readonlyLabel": "",
                "id": "distPointCode",
                "iconIncluded": false,
                "options": [],
                "optionsBinder": {
                  "className": "org.joget.apps.form.lib.FormOptionsBinder",
                  "properties": {
                    "formDefId": "imCampaignDistPt",
                    "idColumn": "distPointCode",
                    "labelColumn": "distPointName",
                    "groupingColumn": "",
                    "extraCondition": "",
                    "addEmptyOption": "true",
                    "emptyLabel": "-- Auto-assign --",
                    "useAjax": "true",
                    "cacheInterval": "",
                    "parentField": "campaignCode",
                    "filterField": "campaignCode"
                  }
                },
                "value": "",
                "validator": {
                  "className": "",
                  "properties": {}
                },
                "controlField": "",
                "size": "",
                "workflowVariable": ""
              }
            },
            {
              "className": "org.joget.apps.form.lib.TextField",
              "properties": {
                "id": "distPointName",
                "label": "Distribution Point Name",
                "readonly": "true"
              }
            },
            {
              "className": "org.joget.apps.form.lib.DatePicker",
              "properties": {
                "id": "scheduledDate",
                "label": "Scheduled Collection Date",
                "readonly": "",
                "allowManual": "",
                "yearRange": "c-10:c+10",
                "dataFormat": "yyyy-MM-dd",
                "datePickerType": "",
                "currentDateAs": "",
                "disableWeekends": "",
                "readonlyLabel": "",
                "iconIncluded": false,
                "value": "",
                "validator": {
                  "className": "",
                  "properties": {}
                },
                "startDateFieldId": "",
                "endDateFieldId": "",
                "placeholder": "",
                "format": "",
                "workflowVariable": ""
              }
            },
            {
              "className": "org.joget.apps.form.lib.SelectBox",
              "properties": {
                "readonly": "",
                "multiple": "",
                "label": "Input Package",
                "readonlyLabel": "",
                "id": "packageCode",
                "iconIncluded": false,
                "options": [],
                "optionsBinder": {
                  "className": "org.joget.apps.form.lib.FormOptionsBinder",
                  "properties": {
                    "formDefId": "md46InputPackage",
                    "idColumn": "code",
                    "labelColumn": "name",
                    "groupingColumn": "",
                    "extraCondition": "",
                    "addEmptyOption": "true",
                    "emptyLabel": "-- Custom allocation --",
                    "useAjax": "",
                    "cacheInterval": ""
                  }
                },
                "value": "",
                "validator": {
                  "className": "",
                  "properties": {}
                },
                "controlField": "",
                "size": "",
                "workflowVariable": ""
              }
            },
            {
              "className": "org.joget.plugin.enterprise.FormGrid",
              "properties": {
                "showRowNumber": "",
                "disabledDelete": "true",
                "errorMessage": "",
                "deleteSubformData": "",
                "pageSize": "20",
                "label": "Entitlement Items",
                "enableSorting": "",
                "deleteFiles": "",
                "readonly": "true",
                "deleteGridData": "",
                "disabledAdd": "true",
                "width": "",
                "abortRelatedRunningProcesses": "",
                "readonlyLabel": "",
                "height": "",
                "id": "entitlementItems",
                "formDefId": "imEntitlementItem",
                "options": [
                  {
                    "value": "inputCode",
                    "label": "Input",
                    "formatType": "text",
                    "format": "",
                    "width": ""
                  },
                  {
                    "value": "qtyEntitled",
                    "label": "Qty",
                    "formatType": "text",
                    "format": "",
                    "width": ""
                  },
                  {
                    "value": "unit",
                    "label": "Unit",
                    "formatType": "text",
                    "format": "",
                    "width": ""
                  },
                  {
                    "value": "subsidyAmount",
                    "label": "Subsidy",
                    "formatType": "text",
                    "format": "",
                    "width": ""
                  },
                  {
                    "value": "farmerContrib",
                    "label": "Farmer Pays",
                    "formatType": "text",
                    "format": "",
                    "width": ""
                  },
                  {
                    "value": "qtyRedeemed",
                    "label": "Redeemed",
                    "formatType": "text",
                    "format": "",
                    "width": ""
                  },
                  {
                    "value": "itemStatus",
                    "label": "Status",
                    "formatType": "options",
                    "format": "",
                    "width": ""
                  }
                ],
                "submit-label-normal": "",
                "submit-label-readonly": "",
                "deleteMessage": "",
                "validator": {
                  "className": "",
                  "properties": {}
                },
                "uniqueKey": "",
                "validateMinRow": "",
                "validateMaxRow": "",
                "loadBinder": {
                  "className": "org.joget.plugin.enterprise.MultirowFormBinder",
                  "properties": {
                    "formDefId": "imEntitlementItem",
                    "foreignKey": "entitlementCode"
                  }
                },
                "storeBinder": {
                  "className": "org.joget.plugin.enterprise.MultirowFormBinder",
                  "properties": {
                    "formDefId": "imEntitlementItem",
                    "foreignKey": "entitlementCode"
                  }
                },
                "requestParams": []
              }
            },
            {
              "className": "org.joget.apps.form.lib.TextField",
              "properties": {
                "id": "totalEntitleValue",
                "label": "Total Entitlement Value",
                "readonly": "true",
                "value": "0.00"
              }
            },
            {
              "className": "org.joget.apps.form.lib.TextField",
              "properties": {
                "id": "totalSubsidyValue",
                "label": "Total Subsidy Value",
                "readonly": "true",
                "value": "0.00"
              }
            },
            {
              "className": "org.joget.apps.form.lib.TextField",
              "properties": {
                "id": "farmerContribTotal",
                "label": "Farmer Contribution",
                "readonly": "true",
                "value": "0.00"
              }
            },
            {
              "className": "org.joget.apps.form.lib.TextField",
              "properties": {
                "id": "eligibilityScore",
                "label": "Eligibility Score",
                "readonly": "true",
                "value": "0"
              }
            },
            {
              "className": "org.joget.apps.form.lib.TextField",
              "properties": {
                "id": "priorityRank",
                "label": "Priority Rank",
                "readonly": "true"
              }
            },
            {
              "className": "org.joget.apps.form.lib.TextArea",
              "properties": {
                "readonly": "true",
                "label": "Calculation Details",
                "rows": "4",
                "cols": "50",
                "readonlyLabel": "",
                "id": "calculationDetails",
                "value": "",
                "validator": {
                  "className": "",
                  "properties": {}
                },
                "placeholder": "",
                "encryption": "",
                "workflowVariable": ""
              }
            },
            {
              "className": "org.joget.apps.form.lib.CustomHTML",
              "properties": {
                "id": "voucherSection",
                "label": "Voucher Information",
                "value": "<h4>E-Voucher Details</h4>\n",
                "customParameterName": ""
              }
            },
            {
              "className": "org.joget.apps.form.lib.TextField",
              "properties": {
                "id": "voucherCode",
                "label": "Voucher Code",
                "readonly": "true"
              }
            },
            {
              "className": "org.joget.apps.form.lib.PasswordField",
              "properties": {
                "id": "voucherPin",
                "label": "Voucher PIN",
                "required": "",
                "readonly": "true",
                "size": "small",
                "encryption": "true"
              }
            },
            {
              "className": "org.joget.apps.form.lib.DatePicker",
              "properties": {
                "id": "voucherIssueDate",
                "label": "Voucher Issue Date",
                "readonly": "true",
                "allowManual": "",
                "yearRange": "c-10:c+10",
                "dataFormat": "yyyy-MM-dd",
                "datePickerType": "",
                "currentDateAs": "",
                "disableWeekends": "",
                "readonlyLabel": "",
                "iconIncluded": false,
                "value": "",
                "validator": {
                  "className": "",
                  "properties": {}
                },
                "startDateFieldId": "",
                "endDateFieldId": "",
                "placeholder": "",
                "format": "",
                "workflowVariable": ""
              }
            },
            {
              "className": "org.joget.apps.form.lib.DatePicker",
              "properties": {
                "id": "voucherExpiry",
                "label": "Voucher Expiry Date",
                "readonly": "true",
                "allowManual": "",
                "yearRange": "c-10:c+10",
                "dataFormat": "yyyy-MM-dd",
                "datePickerType": "",
                "currentDateAs": "",
                "disableWeekends": "",
                "readonlyLabel": "",
                "iconIncluded": false,
                "value": "",
                "validator": {
                  "className": "",
                  "properties": {}
                },
                "startDateFieldId": "",
                "endDateFieldId": "",
                "placeholder": "",
                "format": "",
                "workflowVariable": ""
              }
            },
            {
              "className": "org.joget.apps.form.lib.TextField",
              "properties": {
                "id": "voucherBalance",
                "label": "Voucher Balance",
                "readonly": "true",
                "value": "0.00"
              }
            },
            {
              "className": "org.joget.apps.form.lib.SelectBox",
              "properties": {
                "readonly": "",
                "multiple": "",
                "label": "Status",
                "readonlyLabel": "",
                "id": "status",
                "iconIncluded": false,
                "options": [
                  {
                    "value": "CALCULATED",
                    "label": "Calculated",
                    "grouping": ""
                  },
                  {
                    "value": "APPROVED",
                    "label": "Approved",
                    "grouping": ""
                  },
                  {
                    "value": "VOUCHER_ISSUED",
                    "label": "Voucher Issued",
                    "grouping": ""
                  },
                  {
                    "value": "READY",
                    "label": "Ready for Collection",
                    "grouping": ""
                  },
                  {
                    "value": "PARTIAL",
                    "label": "Partially Redeemed",
                    "grouping": ""
                  },
                  {
                    "value": "COMPLETE",
                    "label": "Fully Redeemed",
                    "grouping": ""
                  },
                  {
                    "value": "EXPIRED",
                    "label": "Expired",
                    "grouping": ""
                  },
                  {
                    "value": "CANCELLED",
                    "label": "Cancelled",
                    "grouping": ""
                  }
                ],
                "optionsBinder": {
                  "className": "",
                  "properties": {}
                },
                "value": "CALCULATED",
                "validator": {
                  "className": "org.joget.apps.form.lib.DefaultValidator",
                  "properties": {
                    "mandatory": "true",
                    "type": "",
                    "message": ""
                  }
                },
                "controlField": "",
                "size": "",
                "workflowVariable": ""
              }
            },
            {
              "className": "org.joget.apps.form.lib.SelectBox",
              "properties": {
                "readonly": "",
                "multiple": "",
                "label": "Collection Status",
                "readonlyLabel": "",
                "id": "collectionStatus",
                "iconIncluded": false,
                "options": [
                  {
                    "value": "PENDING",
                    "label": "Pending",
                    "grouping": ""
                  },
                  {
                    "value": "SCHEDULED",
                    "label": "Scheduled",
                    "grouping": ""
                  },
                  {
                    "value": "NOTIFIED",
                    "label": "Notified",
                    "grouping": ""
                  },
                  {
                    "value": "COLLECTED",
                    "label": "Collected",
                    "grouping": ""
                  },
                  {
                    "value": "NOT_COLLECTED",
                    "label": "Not Collected",
                    "grouping": ""
                  }
                ],
                "optionsBinder": {
                  "className": "",
                  "properties": {}
                },
                "value": "PENDING",
                "validator": {
                  "className": "",
                  "properties": {}
                },
                "controlField": "",
                "size": "",
                "workflowVariable": ""
              }
            },
            {
              "className": "org.joget.apps.form.lib.DatePicker",
              "properties": {
                "id": "createdDate",
                "label": "Created Date",
                "readonly": "true",
                "allowManual": "",
                "yearRange": "c-10:c+10",
                "dataFormat": "yyyy-MM-dd HH:mm",
                "datePickerType": "",
                "currentDateAs": "",
                "disableWeekends": "",
                "readonlyLabel": "",
                "iconIncluded": false,
                "value": "",
                "validator": {
                  "className": "",
                  "properties": {}
                },
                "startDateFieldId": "",
                "endDateFieldId": "",
                "placeholder": "",
                "format": "",
                "workflowVariable": ""
              }
            },
            {
              "className": "org.joget.apps.form.lib.DatePicker",
              "properties": {
                "id": "approvedDate",
                "label": "Approved Date",
                "readonly": "true",
                "allowManual": "",
                "yearRange": "c-10:c+10",
                "dataFormat": "yyyy-MM-dd HH:mm",
                "datePickerType": "",
                "currentDateAs": "",
                "disableWeekends": "",
                "readonlyLabel": "",
                "iconIncluded": false,
                "value": "",
                "validator": {
                  "className": "",
                  "properties": {}
                },
                "startDateFieldId": "",
                "endDateFieldId": "",
                "placeholder": "",
                "format": "",
                "workflowVariable": ""
              }
            },
            {
              "className": "org.joget.apps.form.lib.DatePicker",
              "properties": {
                "id": "firstRedemptionDate",
                "label": "First Redemption Date",
                "readonly": "true",
                "allowManual": "",
                "yearRange": "c-10:c+10",
                "dataFormat": "yyyy-MM-dd HH:mm",
                "datePickerType": "",
                "currentDateAs": "",
                "disableWeekends": "",
                "readonlyLabel": "",
                "iconIncluded": false,
                "value": "",
                "validator": {
                  "className": "",
                  "properties": {}
                },
                "startDateFieldId": "",
                "endDateFieldId": "",
                "placeholder": "",
                "format": "",
                "workflowVariable": ""
              }
            },
            {
              "className": "org.joget.apps.form.lib.DatePicker",
              "properties": {
                "id": "completionDate",
                "label": "Completion Date",
                "readonly": "true",
                "allowManual": "",
                "yearRange": "c-10:c+10",
                "dataFormat": "yyyy-MM-dd HH:mm",
                "datePickerType": "",
                "currentDateAs": "",
                "disableWeekends": "",
                "readonlyLabel": "",
                "iconIncluded": false,
                "value": "",
                "validator": {
                  "className": "",
                  "properties": {}
                },
                "startDateFieldId": "",
                "endDateFieldId": "",
                "placeholder": "",
                "format": "",
                "workflowVariable": ""
              }
            },
            {
              "className": "org.joget.apps.form.lib.Radio",
              "properties": {
                "fullWidth": "",
                "readonly": "",
                "label": "SMS Notification Sent",
                "readonlyLabel": "",
                "id": "smsNotifSent",
                "options": [
                  {
                    "value": "Y",
                    "label": "Yes",
                    "grouping": ""
                  },
                  {
                    "value": "N",
                    "label": "No",
                    "grouping": ""
                  }
                ],
                "optionsBinder": {
                  "className": "",
                  "properties": {}
                },
                "value": "N",
                "validator": {
                  "className": "",
                  "properties": {}
                },
                "controlField": "",
                "workflowVariable": ""
              }
            },
            {
              "className": "org.joget.apps.form.lib.DatePicker",
              "properties": {
                "id": "smsNotifDate",
                "label": "SMS Sent Date",
                "readonly": "true",
                "allowManual": "",
                "yearRange": "c-10:c+10",
                "dataFormat": "yyyy-MM-dd HH:mm",
                "datePickerType": "",
                "currentDateAs": "",
                "disableWeekends": "",
                "readonlyLabel": "",
                "iconIncluded": false,
                "value": "",
                "validator": {
                  "className": "",
                  "properties": {}
                },
                "startDateFieldId": "",
                "endDateFieldId": "",
                "placeholder": "",
                "format": "",
                "workflowVariable": ""
              }
            }
          ]
        }
      ]
    }
  ]
}